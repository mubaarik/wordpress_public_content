AWPCP.define("campaign-manager/campaign-loader",["jquery","awpcp/settings"],function(a,b){var c=function(a){var b=this;b.placeholders={},b.campaigns=[],b.findCampaignPlaceholders(a)};return a.extend(c.prototype,{findCampaignPlaceholders:function(b){var c=this;b.each(function(b,d){var e=a(d),f={position:e.attr("data-position"),category:e.attr("data-category"),page:e.attr("data-page")};"undefined"!=typeof c.placeholders[f.position]?c.placeholders[f.position]=c.placeholders[f.position].add(e):c.placeholders[f.position]=e,c.campaigns.push(f)})},loadCampaigns:function(){var c=this;0!==c.campaigns.length&&a.getJSON(b.get("ajaxurl"),{action:"awpcp-load-campaigns",campaigns:c.campaigns},function(a){"ok"===a.status&&c.insertAdvertisements(a.advertisements)})},insertAdvertisements:function(b){var c=this;a.each(b,function(a,b){b.length?c.placeholders[a].html(b):c.placeholders[a].addClass("is-empty")})}}),c}),AWPCP.run("campaign-manager/frontend",["jquery","campaign-manager/campaign-loader"],function(a,b){a(function(){var c=a(".awpcp-advertisement-placeholder"),d=new b(c);d.loadCampaigns()})});